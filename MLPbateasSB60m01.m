function [y1] = MLPbateasSB60m01(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 10-Mar-2022 15:59:34.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 10xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [843;505;240;54;0;0;114;0;0;0];
x1_step1.gain = [0.00104058272632674;0.0010498687664042;0.000935016362786349;0.00102511532547412;0.000953743443013829;0.000947418285172904;0.000921658986175115;0.000809061488673139;0.000831946755407654;0.000957854406130268];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.067816677379835516026;0.82464787718273413475];
IW1_1 = [0.38472694312226501934 -0.57814209747773481762 -0.41869088401130699628 0.42968359389809190896 -0.57714568696446355567 0.0053569168227811363864 -1.1332285340541885521 -0.40530930946242177404 -1.0703586422991320237 0.03597539218746559353;-2.773133592054630725 -3.1713155632616407686 -0.83774110565803383555 -0.86097226309491781127 0.59006434768353888121 0.21331023942291305051 1.4974338967998486183 3.2910446174229521787 2.0637213083892653742 1.2754761847719768841];

% Layer 2
b2 = 2.574659007401533195;
LW2_1 = [-2.8232122155657690676 9.3351776955840151118];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n,~)
a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
